---
title: Next.js 平行路由 Modal 切换时保持滚动位置的终极指南
date: 2024-05-21
author: Your Name
---

在使用 Next.js 的平行路由 (Parallel Routes) 构建复杂 UI 时，一个常见的需求是实现多个独立的模态框 (Modal)。这些 Modal 通常有自己的滚动区域，并且用户希望在不同 Modal 之间切换时，能够保持每个 Modal 内部的滚动位置。

然而，许多开发者会遇到一个问题：当使用 `router.push` 切换到另一个 Modal，再切换回来时，之前 Modal 的滚动位置丢失了，内容回到了顶部。这会极大地影响用户体验。

本文将深入探讨这个问题的根本原因，并提供一套清晰、有效的解决方案，帮助你在 Next.js 应用中实现平滑的 Modal 滚动位置保持。

### 问题场景复现

假设我们有以下的 Next.js 文件结构，利用平行路由实现三个独立的 Modal：
