:root {
    /* z-index 值 */
    --z-index-desktop-bg: -1;

    /* msfiles modal的z-index由 createModalStore 中state.modalApp.hz定义，初始为2，逐步累加 */
    --z-index-dock-menu: 999;
    --z-index-video-modal: 1000;

    /* height 值 */
    --height-dock-menu: 58px;
    --height-modal-subtoolbar: 50px;
}

html {
    @apply scroll-smooth;
}

.lucide {
    @apply w-10 stroke-[2px];
}

.xicon {
    @apply inline-flex h-[1em] w-[1em];

    & svg {
        @apply !h-full !w-full;

        &:not([fill]) {
            fill: currentcolor;
        }
    }
}

::view-transition-old(root),
::view-transition-new(root) {
    mix-blend-mode: normal;
    animation: none;
}

:root {
    --modal-txt-color: #222;
    --modal-bg-color: rgb(255 255 255 / 30%);
    --modal-shadow: 0 0 10px rgb(0 0 0 / 40%);
    --card-shadow: 0 0 10px rgb(0 0 0 / 40%);
}

[data-theme='dark'] {
    --modal-txt-color: #ddd;
    --modal-bg-color: rgb(0 0 0 / 30%);
    --modal-shadow: 0 0 10px rgb(255 255 255 / 40%);
    --card-shadow: 0 0 10px rgb(255 255 255 / 40%);
}

@utility load-container {
    position: relative;
    width: 48px;
    height: 48px;
    margin: 50px auto;

    .spin-container {
        position: absolute;
        width: 100%;
        height: 100%;

        .dot {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #00adb5;
            border-radius: 100%;
            animation: bouncedelay 1.2s infinite ease-in-out;
            animation-fill-mode: both;
        }

        .dot-1 {
            top: 0;
            left: 0;
        }

        .dot-2 {
            top: 0;
            right: 0;
        }

        .dot-3 {
            right: 0;
            bottom: 0;
        }

        .dot-4 {
            bottom: 0;
            left: 0;
        }
    }

    .container-1 {
        .dot-2 {
            animation-delay: -0.9s;
        }

        .dot-3 {
            animation-delay: -0.6s;
        }

        .dot-4 {
            animation-delay: -0.3s;
        }
    }

    .container-2 {
        transform: rotateZ(45deg);

        .dot-1 {
            animation-delay: -1.1s;
        }

        .dot-2 {
            animation-delay: -0.8s;
        }

        .dot-3 {
            animation-delay: -0.5s;
        }

        .dot-4 {
            animation-delay: -0.2s;
        }
    }

    .container-3 {
        transform: rotateZ(90deg);

        .dot-1 {
            animation-delay: -1s;
        }

        .dot-2 {
            animation-delay: -0.7s;
        }

        .dot-3 {
            animation-delay: -0.4s;
        }

        .dot-4 {
            animation-delay: -0.1s;
        }
    }
}

@keyframes bouncedelay {
    0%,
    80%,
    100% {
        transform: scale(0);
    }

    40% {
        transform: scale(1);
    }
}

/* ===== TYPOGRAPHY */
@utility h1 {
    @apply text-[34px] leading-[42px] font-bold;
}

@utility h2 {
    @apply text-[24px] leading-[36px] font-bold;
}

@utility h3 {
    @apply text-[20px] leading-[28px] font-semibold;
}

@utility h4 {
    @apply text-[18px] leading-[20px] font-medium;
}

@utility h5 {
    @apply text-[16px] leading-[24px] font-semibold;
}

@utility subtitle-1 {
    @apply text-[16px] leading-[24px] font-medium;
}

@utility subtitle-2 {
    @apply text-[14px] leading-[20px] font-semibold;
}

@utility body-1 {
    @apply text-[16px] leading-[24px] font-normal;
}

@utility body-2 {
    @apply text-[14px] leading-[20px] font-normal;
}

/* Chart */

@utility chart {
    @apply flex items-center! rounded-[20px]! bg-brand! p-5 text-white md:flex-col! xl:flex-row!;
}

@utility chart-container {
    @apply mx-auto! aspect-square! w-[180px]! text-white xl:w-[250px]!;
}

@utility polar-grid {
    @apply first:fill-white/20 last:fill-brand;
}

@utility chart-details {
    container: unset;

    @apply flex-1 items-start px-3! py-0! sm:px-5! lg:p-3! xl:pr-5!;
}

@utility chart-total-percentage {
    @apply fill-white text-4xl font-bold;
}

@utility chart-title {
    @apply h3 font-bold text-white! md:text-center lg:text-left;
}

@utility chart-description {
    @apply mt-2! w-full! subtitle-1! text-white/70! md:text-center! lg:text-left!;
}

@layer components {
    .scrollbar-custom {
        &::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        &::-webkit-scrollbar-track {
            background: transparent;
        }

        &::-webkit-scrollbar-thumb {
            background-color: rgb(255 255 255 / 10%);
            background-clip: padding-box; /* 关键：背景色不延伸到边框 */
            border: 1px solid transparent; /* 关键：1px 透明边框 = 空隙 */
            border-radius: 9999px;
        }

        &::-webkit-scrollbar-corner {
            background: transparent;
        }
    }
}
